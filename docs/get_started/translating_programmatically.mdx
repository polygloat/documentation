---
id: translating_programmatically
title: Translating programmatically
sidebar_label: Translating programmatically
slug: /get_started/translating_programmatically
---

There are occurrences of texts to translate that can appear outside of DOM handled by Tolgee or as visible properties
of DOM objects such as value of `<input>` object or document title.
Tolgee won't translate them automatically. (Hopefully in future versions)

There is a certain way how to deal with these.

In our [Hello world example](hello_world.mdx) there is a title element which is not translated. We can translate it
by adding this code snipped to our javascript part of the document:

```javascript
pg.onLangLoaded.subscribe(() => {
    document.title = pg.instant("hello_world", undefined, true);
});
```

Getter `pg.onLangLoaded` returns an instance of EventEmitter. The callback of subscribe method is called every time
 language changes and Tolgee loads its translations. So after that, we can call `pg.instant`, what returns the
 translations from already loaded translations. First parameter of this method is the translation **key** in our case "hello_world".
Second parameter is object of translation parameters (see [parameter interpolation](get_started/parameter_interpolation.mdx))
The last parameter `noWrap` tells Tolgee not to wrap it with inputPrefix and inputSuffix values. In general, it
means that Tolgee will return the translated value instead of wrapped value like `{{hello_world}}`. This is useful
for occurrences where it is impossible to click on the translated element or where Tolgee could not find the value by
inspecting DOM (see [understanding Tolgee](understanding_tolgee.mdx)).

:::important
If you can see wrapped text on rendered page such as `{{something}}` or<br/>
`%-%tolgee:something%-%` you should probably try
to translate it programmatically with third parameter set to `true` like:

```javascript
pg.instant("something", undefined, true)
```
or
```javascript
pg.translate("something", undefined, true).then(translation => {})
```

:::

Full HTML example page is here:
```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>hello world</title>
</head>
<body>
    <div id="loading" style="
        position: fixed;
        top:0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: white;
        display: flex;
        align-items: center;
        justify-content: center;
    ">
    Loading...
    </div>
    <h1>{{hello_world}}</h1>
</body>
<script src="https://unpkg.com/@tolgee/core"></script>
<script src="https://unpkg.com/@tolgee/ui"></script>
<script>
const pg = new window["@tolgee/core"].Tolgee({
    apiUrl: "https://app.tolgee.io",
    apiKey: "you_secret_api_key",
    inputPrefix: "{{",
    inputSuffix: "}}",
    watch: true,
    ui: window["@tolgee/ui"].UI,
});

pg.run().then(() => {
    document.getElementById("loading").style.display = "none";
})
pg.onLangLoaded.subscribe(() => {
    document.title = pg.instant("hello_world", undefined, true);
});

</script>
</html>
```

### `pg.translate`

Pg.translate method returns your translation asynchronously and returns Promise. In general it is more secure to use it.
Instant method can return untranslated key when translations are not loaded yet.
```javascript
pg.translate("hello_world", undefined).then(t => {document.body.innerText = t});
```

### `pg.instant`

On the other hand `pg.instant` method returns translation immediately. However, if translations are not loaded yet, it returns
untranslated localization key.

```javascript
const translation = pg.instant("hello_world");
```
